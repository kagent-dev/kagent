apiVersion: kagent.dev/v1alpha1
kind: ModelConfig
metadata:
  name: default-model-config
  labels:
    {{- include "kagent.labels" . | nindent 4 }}
spec:
  provider: {{ .Values.modelconfig.default.provider | quote }}
{{- if eq .Values.modelconfig.default.provider "OpenAI" }}
  {{ with .Values.modelconfig.default.openai }}
  model: {{ .model | quote }}
  apiKeySecretRef: {{ .secretName }}
  apiKeySecretKey: {{ .secretKey }}
  {{- end }}
{{- else  }}
  model: {{ .Values.modelconfig.default.ollama.model | quote }}
  ollama:
    {{ toYaml .Values.modelconfig.default.ollama | nindent 4 }}
{{ end -}}